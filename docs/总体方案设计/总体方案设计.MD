
|版本号|拟制人/修改人|日期|更改理由|主要更改内容（要点）|
|---|---|---|---|---|
|v0.1|陈钱程|2021年7月19日| |初稿|
***注：文件第一次拟制时，“更改理由”、“主要更改内容”栏写“无”。***

# 总体方案设计

# 1.编写目的
本文件阐述了国煤交易平台系统的软件总体设计、软件运行配置与应用方式以及使用的关键技术等。
# 2.设计依据
依据需求分析中输出的相关文档中阐述的产品功能，进行对应技术方案输出。

参考教学介绍的WEB系统架构方案，结合产品实际情况、功能演进规划，进行技术架构和演进规划。
# 3.术语、定义和缩略语
## 3.1.术语、定义
|名词 | 解释|
|-----|-----|
|SpringBoot|Spring Boot是由Pivotal团队提供的全新框架，其设计目的是用来简化新Spring应用的初始搭建以及开发过程。该框架使用了特定的方式来进行配置，从而使开发人员不再需要定义样板化的配置。|
|MyBatis-Plus|一个 MyBatis 的增强工具，在 MyBatis 的基础上只做增强不做改变，为简化开发、提高效率而生。|
|Vue.js|一套用于构建用户界面的渐进式框架。|
|MySql|一个关系型数据库管理系统。|
|Nginx|一个高性能的HTTP和反向代理web服务器。|
|Docker|一个开源的应用容器引擎。|
## 3.2.缩略语
|缩写|英文全称|中文全称|
|---|-------|------|

# 4.概述
## 4.1.系统目标
**用户体验**：尽量贴近用户习惯，化繁为简。

## 4.2.设计原则
**高效运维**：提高运维效率、减少运维成本

## 4.3.演进规划
暂无

# 5.整体方案
## 5.1.技术架构
![技术架构1](./img/技术架构.png)
![技术架构2](./img/技术架构2.png)
### 用户使用层
支持在PC电脑浏览器上使用
### 应用服务层
系统后台基于业内主流WebService框架Springboot进行应用开发。

系统WEB前端使用主流渐进式框架Vue.js.
### 数据存储层
1. 关系型数据存放与：MySql数据库
2. 非关系型数据库存放于：文件

## 5.2.功能架构
TODO: 有待完善
![功能架构](img/功能架构.png)

## 5.3.运行流程
待完善
![运行流程](img/运行流程.png)

运行步骤：
1. PC浏览器发起HTTP请求
2. Nginx处理请求分发至对应前后端服务器
3. 对应服务器处理数据后，返回给Nginx输出

## 5.4.部署架构
![部署架构](img/部署架构.png)

## 5.5.性能设计
### 性能指标
1. 整体用户量 20000
2. 并发数 > 15000

### Web服务器要求
| 序号 | 参数 | 指标 | 备注 |
|----|---|---|---|
|01|平均每次请求响应时间|≤3s|每次从发送请求到获得响应数据的时间|
|02|成功的请求率|≥98%|发送的所有请求成功率|
|03|失败的请求率|<2%|发送的所有请求失败率|
|04|点击成功率|≥99%|前端点击得到响应的概率|
|05|点击失败率|<1%|前端点击未得到响应的概率|
|06|每秒点击成功率|≥95%|1s时间内的请求成功率|
|07|每秒点击失败率|<5%|1s时间内的请求失败率|

# 6.功能详述
## 6.1.管理平台
### 6.1.1.资讯列表
- 模块说明
- 实现方案
## 6.2.
## 6.3.
## 6.4.

# 7.接口说明
## 7.1.内部接口
## 7.2.外部接口

# 8.开发与运行环境
## 8.1.硬件环境
x86服务器、Lighthouse
## 8.2.软件环境
- 开发工具
  
  Linux, Docker, MySql, Tomcat, NodeJs, Spring, HBuilderX, Intellij IDEA 等
- 基础版本
无
